var area = $('#semesters [data-id=<%= @semester.id %>]');

<% if @course || request.path =~ /sync/ %>
  var newEl = $("<%= escape_javascript render(@semester) %>");
  bindAutocomplete(newEl.find(':text'));
  makeSortable(newEl.find('.courses'));
  area.replaceWith(newEl);
  <% if params[:focus] == '1' %>
    newEl.find(':text').focus();
  <% end %>
<% else %>
  area.find('form :text').parent().addClass('field_with_errors');
<% end %>
